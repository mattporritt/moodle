self.addEventListener("push",(event=>{const data=event.data.json();self.console.log("Payload:",event.data.text()),!0===data.push&&((event,data)=>{const options={body:data.body,icon:"/Moodle_Circle_M.jpg",image:"/Moodle_Circle_M.jpg",badge:"/Moodle_Circle_M.jpg",vibrate:[200,100,200],lang:"en-AU",requireInteraction:!0,timestamp:Date.now(),actions:[{action:"view",title:"Viewzzz"}]};event.waitUntil(self.registration.showNotification(data.title,options))})(event,data),(data=>{self.console.log("Sending message to clients",data);const channel=new BroadcastChannel("my-channel"),json=JSON.stringify(data);channel.postMessage(json)})(data)})),self.addEventListener("notificationclick",(function(event){self.console.log("Notification click: tag ",event.notification.tag),event.notification.close(),event.waitUntil(clients.matchAll({type:"window"}).then((function(windowClients){for(var i=0;i<windowClients.length;i++){var client=windowClients[i];if("/"===client.url&&"focus"in client)return client.focus()}if(clients.openWindow)return clients.openWindow("/")})))}));

//# sourceMappingURL=notification_service_worker.min.js.map